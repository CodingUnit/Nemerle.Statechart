using Nemerle;
using Nemerle.Collections;
using Nemerle.Text;
using Nemerle.Utility;

using System;
using System.Collections.Generic;
using System.Linq;
using Nemerle.Statechart;

namespace Nemerle.Statechart.Tests
{
  /// <summary>
  /// Description of FileFsmDialogs.
  /// </summary>
  [statechart(<#

  flags : auto_initial transition_completed_events;
  flags : debug; 

  name : FileDialogs;

  state Working
  {
    ButtonPressed => Dialogs;
  }
  
  state Dialogs
  {
    Cancel => Working;
    _      => Working;
    
    state SaveChecking
    {
      do / save_checking;
      
      _ [NewFile]  => NewDialog;
      _ [OpenFile] => OpenDialog;
      _ [Exit] / send_event(Exit) => $0;
    }
    
    state NewDialog
    {
      OK / send_event(NewFile) => $0;
    }
    
    state OpenDialog
    {
      OK / send_event(FileSaved) => $0;
    }
  }

  #>
  )]
  class FileFsmDialogs
  {
  }
}
